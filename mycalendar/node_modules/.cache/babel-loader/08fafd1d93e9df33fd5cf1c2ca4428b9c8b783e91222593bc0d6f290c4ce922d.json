{"ast":null,"code":"import _objectSpread from\"C:/Users/dah03/nail-site/mycalendar/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{useState}from\"react\";import{useModal}from\"../../../context/ModalContext\";import{useAuth}from\"../../../context/AuthContext\";import\"./AuthModal.css\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";export default function AuthModal(){const{authModal,closeAuthModal}=useModal();if(!authModal.open)return null;const initialTab=authModal.mode===\"register\"?\"register\":\"login\";return/*#__PURE__*/_jsx(\"div\",{className:\"modal-backdrop\",onClick:closeAuthModal,children:/*#__PURE__*/_jsx(\"div\",{className:\"modal-card\",onClick:e=>e.stopPropagation(),children:/*#__PURE__*/_jsx(AuthTabs,{initialTab:initialTab,onClose:closeAuthModal})})});}function AuthTabs(_ref){let{initialTab=\"login\",onClose}=_ref;const[tab,setTab]=useState(initialTab);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"tab-btn \".concat(tab===\"login\"?\"active\":\"\"),onClick:()=>setTab(\"login\"),children:\"Sign in\"}),/*#__PURE__*/_jsx(\"button\",{className:\"tab-btn \".concat(tab===\"register\"?\"active\":\"\"),onClick:()=>setTab(\"register\"),children:\"Create account\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"modal-body\",children:tab===\"login\"?/*#__PURE__*/_jsx(LoginForm,{onSuccess:onClose}):/*#__PURE__*/_jsx(RegisterForm,{onSuccess:()=>setTab(\"login\")})})]});}function LoginForm(_ref2){let{onSuccess}=_ref2;const{login}=useAuth();const[form,setForm]=useState({email:\"\",password:\"\"});const[loading,setLoading]=useState(false);const[err,setErr]=useState(\"\");const onChange=e=>setForm(p=>_objectSpread(_objectSpread({},p),{},{[e.target.name]:e.target.value}));const onSubmit=async e=>{e.preventDefault();setErr(\"\");setLoading(true);const result=await login(form);setLoading(false);if(result!==null&&result!==void 0&&result.error)return setErr(result.error);onSuccess===null||onSuccess===void 0?void 0:onSuccess();// close modal\n};return/*#__PURE__*/_jsxs(\"form\",{onSubmit:onSubmit,className:\"auth-form\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{name:\"email\",type:\"email\",value:form.email,onChange:onChange,required:true}),/*#__PURE__*/_jsx(\"label\",{children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{name:\"password\",type:\"password\",value:form.password,onChange:onChange,required:true}),err&&/*#__PURE__*/_jsx(\"div\",{className:\"auth-error\",children:err}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:loading,children:loading?\"Signing in...\":\"Sign in\"})]});}function RegisterForm(_ref3){let{onSuccess}=_ref3;const{register}=useAuth();const[form,setForm]=useState({fullName:\"\",email:\"\",password:\"\"});const[loading,setLoading]=useState(false);const[err,setErr]=useState(\"\");const onChange=e=>setForm(p=>_objectSpread(_objectSpread({},p),{},{[e.target.name]:e.target.value}));const onSubmit=async e=>{e.preventDefault();setErr(\"\");setLoading(true);const result=await register(form);setLoading(false);if(result!==null&&result!==void 0&&result.error)return setErr(result.error);onSuccess===null||onSuccess===void 0?void 0:onSuccess();};return/*#__PURE__*/_jsxs(\"form\",{onSubmit:onSubmit,className:\"auth-form\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Full name\"}),/*#__PURE__*/_jsx(\"input\",{name:\"fullName\",value:form.fullName,onChange:onChange,required:true}),/*#__PURE__*/_jsx(\"label\",{children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{name:\"email\",type:\"email\",value:form.email,onChange:onChange,required:true}),/*#__PURE__*/_jsx(\"label\",{children:\"Phone Number\"}),/*#__PURE__*/_jsx(\"input\",{name:\"phoneNumber\",type:\"text\",value:form.phoneNumber,onChange:onChange,required:true}),/*#__PURE__*/_jsx(\"label\",{children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{name:\"password\",type:\"password\",value:form.password,onChange:onChange,required:true}),err&&/*#__PURE__*/_jsx(\"div\",{className:\"auth-error\",children:err}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:loading,children:loading?\"Creating...\":\"Create account\"})]});}","map":{"version":3,"names":["useState","useModal","useAuth","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","AuthModal","authModal","closeAuthModal","open","initialTab","mode","className","onClick","children","e","stopPropagation","AuthTabs","onClose","_ref","tab","setTab","concat","LoginForm","onSuccess","RegisterForm","_ref2","login","form","setForm","email","password","loading","setLoading","err","setErr","onChange","p","_objectSpread","target","name","value","onSubmit","preventDefault","result","error","type","required","disabled","_ref3","register","fullName","phoneNumber"],"sources":["C:/Users/dah03/nail-site/mycalendar/src/components/App/AuthModal/AuthModal.jsx"],"sourcesContent":["import { useState } from \"react\";\r\nimport { useModal } from \"../../../context/ModalContext\";\r\nimport { useAuth } from \"../../../context/AuthContext\";\r\nimport \"./AuthModal.css\";\r\n\r\nexport default function AuthModal() {\r\n  const { authModal, closeAuthModal } = useModal();\r\n  if (!authModal.open) return null;\r\n  const initialTab = authModal.mode === \"register\" ? \"register\" : \"login\";\r\n\r\n  return (\r\n    <div className=\"modal-backdrop\" onClick={closeAuthModal}>\r\n      <div className=\"modal-card\" onClick={(e) => e.stopPropagation()}>\r\n        <AuthTabs initialTab={initialTab} onClose={closeAuthModal} />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction AuthTabs({ initialTab = \"login\", onClose }) {\r\n  const [tab, setTab] = useState(initialTab);\r\n  return (\r\n    <>\r\n      <div className=\"modal-header\">\r\n        <button\r\n          className={`tab-btn ${tab === \"login\" ? \"active\" : \"\"}`}\r\n          onClick={() => setTab(\"login\")}\r\n        >\r\n          Sign in\r\n        </button>\r\n        <button\r\n          className={`tab-btn ${tab === \"register\" ? \"active\" : \"\"}`}\r\n          onClick={() => setTab(\"register\")}\r\n        >\r\n          Create account\r\n        </button>\r\n      </div>\r\n\r\n      <div className=\"modal-body\">\r\n        {tab === \"login\" ? (\r\n          <LoginForm onSuccess={onClose} />\r\n        ) : (\r\n          <RegisterForm onSuccess={() => setTab(\"login\")} />\r\n        )}\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nfunction LoginForm({ onSuccess }) {\r\n  const { login } = useAuth();\r\n  const [form, setForm] = useState({ email: \"\", password: \"\" });\r\n  const [loading, setLoading] = useState(false);\r\n  const [err, setErr] = useState(\"\");\r\n\r\n  const onChange = (e) => setForm((p) => ({ ...p, [e.target.name]: e.target.value }));\r\n\r\n  const onSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setErr(\"\");\r\n    setLoading(true);\r\n    const result = await login(form);\r\n    setLoading(false);\r\n    if (result?.error) return setErr(result.error);\r\n    onSuccess?.(); // close modal\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={onSubmit} className=\"auth-form\">\r\n      <label>Email</label>\r\n      <input name=\"email\" type=\"email\" value={form.email} onChange={onChange} required />\r\n      <label>Password</label>\r\n      <input name=\"password\" type=\"password\" value={form.password} onChange={onChange} required />\r\n      {err && <div className=\"auth-error\">{err}</div>}\r\n      <button type=\"submit\" disabled={loading}>{loading ? \"Signing in...\" : \"Sign in\"}</button>\r\n    </form>\r\n  );\r\n}\r\n\r\nfunction RegisterForm({ onSuccess }) {\r\n  const { register } = useAuth();\r\n  const [form, setForm] = useState({ fullName: \"\", email: \"\", password: \"\" });\r\n  const [loading, setLoading] = useState(false);\r\n  const [err, setErr] = useState(\"\");\r\n\r\n  const onChange = (e) => setForm((p) => ({ ...p, [e.target.name]: e.target.value }));\r\n\r\n  const onSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setErr(\"\");\r\n    setLoading(true);\r\n    const result = await register(form);\r\n    setLoading(false);\r\n    if (result?.error) return setErr(result.error);\r\n    onSuccess?.();\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={onSubmit} className=\"auth-form\">\r\n      <label>Full name</label>\r\n      <input name=\"fullName\" value={form.fullName} onChange={onChange} required />\r\n      <label>Email</label>\r\n      <input name=\"email\" type=\"email\" value={form.email} onChange={onChange} required />\r\n      <label>Phone Number</label>\r\n      <input name=\"phoneNumber\" type=\"text\" value={form.phoneNumber} onChange={onChange} required />\r\n      <label>Password</label>\r\n      <input name=\"password\" type=\"password\" value={form.password} onChange={onChange} required />\r\n      {err && <div className=\"auth-error\">{err}</div>}\r\n      <button type=\"submit\" disabled={loading}>{loading ? \"Creating...\" : \"Create account\"}</button>\r\n    </form>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}