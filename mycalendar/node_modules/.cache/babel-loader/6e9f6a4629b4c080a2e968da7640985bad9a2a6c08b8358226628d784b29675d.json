{"ast":null,"code":"import React from\"react\";import\"./BookingForm.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function BookingForm(_ref){var _user$fullName,_user$email,_user$phoneNumber;let{user,fullNameId=\"\",setFullNameId=()=>{},emailId=\"\",setEmailId=()=>{},phoneNumberId=\"\",setPhoneNumberId=()=>{},selectedLocation=\"\",setSelectedLocation=()=>{},selectedTeamMember=\"\",setSelectedTeamMember=()=>{},selectedService=\"\",setSelectedService=()=>{},locations=[],teamMembers=[],services=[],onSubmit=()=>{},onCancel=()=>{}}=_ref;const safeLocations=Array.isArray(locations)?locations:[];const safeServices=Array.isArray(services)?services:[];const safeTeamMembers=Array.isArray(teamMembers)?teamMembers:[];const autofullName=(_user$fullName=user===null||user===void 0?void 0:user.fullName)!==null&&_user$fullName!==void 0?_user$fullName:fullNameId;const autoEmail=(_user$email=user===null||user===void 0?void 0:user.email)!==null&&_user$email!==void 0?_user$email:emailId;const readOnly=Boolean(user);// lock when logged in\nconst autoPhone=(_user$phoneNumber=user===null||user===void 0?void 0:user.phoneNumber)!==null&&_user$phoneNumber!==void 0?_user$phoneNumber:phoneNumberId;return/*#__PURE__*/_jsxs(\"div\",{className:\"booking-form\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Create Booking\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Full Name:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:autofullName,onChange:e=>setFullNameId(e.target.value),readOnly:readOnly})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Email:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:autoEmail,onChange:e=>setEmailId(e.target.value),readOnly:readOnly})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Phone Number:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:autoPhone,onChange:e=>setPhoneNumberId(e.target.value),readOnly:readOnly&&!!(user!==null&&user!==void 0&&user.phoneNumber),placeholder:readOnly&&!(user!==null&&user!==void 0&&user.phoneNumber)?\"Enter phone number\":\"\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Location:\"}),/*#__PURE__*/_jsxs(\"select\",{value:selectedLocation,onChange:e=>setSelectedLocation(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Location\"}),safeLocations.map(loc=>/*#__PURE__*/_jsx(\"option\",{value:loc.id,children:loc.name},loc.id))]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Staff:\"}),/*#__PURE__*/_jsxs(\"select\",{value:selectedTeamMember,onChange:e=>setSelectedTeamMember(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Staff\"}),safeTeamMembers.map(tm=>{var _tm$team_member_detai;return/*#__PURE__*/_jsx(\"option\",{value:tm.id,children:((_tm$team_member_detai=tm.team_member_details)===null||_tm$team_member_detai===void 0?void 0:_tm$team_member_detai.given_name)||tm.id},tm.id);})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Service:\"}),/*#__PURE__*/_jsxs(\"select\",{value:selectedService,onChange:e=>setSelectedService(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Service\"}),safeServices.map(s=>{var _s$item_data;return/*#__PURE__*/_jsx(\"option\",{value:s.id,children:((_s$item_data=s.item_data)===null||_s$item_data===void 0?void 0:_s$item_data.name)||s.id},s.id);})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-actions\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"primary-btn\",onClick:onSubmit,disabled:!fullNameId||!emailId||!phoneNumberId||!selectedLocation||!selectedTeamMember||!selectedService,children:\"Create Booking\"}),/*#__PURE__*/_jsx(\"button\",{className:\"secondary-btn\",onClick:onCancel,children:\"Cancel\"})]})]});}","map":{"version":3,"names":["React","jsx","_jsx","jsxs","_jsxs","BookingForm","_ref","_user$fullName","_user$email","_user$phoneNumber","user","fullNameId","setFullNameId","emailId","setEmailId","phoneNumberId","setPhoneNumberId","selectedLocation","setSelectedLocation","selectedTeamMember","setSelectedTeamMember","selectedService","setSelectedService","locations","teamMembers","services","onSubmit","onCancel","safeLocations","Array","isArray","safeServices","safeTeamMembers","autofullName","fullName","autoEmail","email","readOnly","Boolean","autoPhone","phoneNumber","className","children","type","value","onChange","e","target","placeholder","map","loc","id","name","tm","_tm$team_member_detai","team_member_details","given_name","s","_s$item_data","item_data","onClick","disabled"],"sources":["C:/Users/dah03/nail-site/mycalendar/src/components/App/Calendar/BookingForm/BookingForm.jsx"],"sourcesContent":["import React from \"react\";\r\nimport \"./BookingForm.css\";\r\n\r\nexport default function BookingForm({\r\n  user,\r\n  fullNameId = \"\",\r\n  setFullNameId = () => {},\r\n  emailId = \"\",\r\n  setEmailId = () => {},\r\n  phoneNumberId = \"\",\r\n  setPhoneNumberId = () => {},\r\n  selectedLocation = \"\",\r\n  setSelectedLocation = () => {},\r\n  selectedTeamMember = \"\",\r\n  setSelectedTeamMember = () => {},\r\n  selectedService = \"\",\r\n  setSelectedService = () => {},\r\n  locations = [],\r\n  teamMembers = [],\r\n  services = [],\r\n  onSubmit = () => {},\r\n  onCancel = () => {},\r\n}) {\r\n  const safeLocations = Array.isArray(locations) ? locations : [];\r\n  const safeServices = Array.isArray(services) ? services : [];\r\n  const safeTeamMembers = Array.isArray(teamMembers) ? teamMembers : [];\r\n\r\n  const autofullName = user?.fullName ?? fullNameId;\r\n  const autoEmail = user?.email ?? emailId;\r\n  const readOnly = Boolean(user); // lock when logged in\r\n  const autoPhone = user?.phoneNumber ?? phoneNumberId;\r\n\r\n  return (\r\n    <div className=\"booking-form\">\r\n      <h3>Create Booking</h3>\r\n\r\n      <div className=\"form-group\">\r\n        <label>Full Name:</label>\r\n        <input\r\n          type=\"text\"\r\n          value={autofullName}\r\n          onChange={(e) => setFullNameId(e.target.value)}\r\n          readOnly={readOnly}\r\n        />\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label>Email:</label>\r\n        <input\r\n          type=\"text\"\r\n          value={autoEmail}\r\n          onChange={(e) => setEmailId(e.target.value)}\r\n          readOnly={readOnly}\r\n        />\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label>Phone Number:</label>\r\n        <input\r\n          type=\"text\"\r\n          value={autoPhone}\r\n          onChange={(e) => setPhoneNumberId(e.target.value)}\r\n          readOnly={readOnly && !!user?.phoneNumber}\r\n          placeholder={readOnly && !user?.phoneNumber ? \"Enter phone number\" : \"\"}\r\n        />\r\n      </div>\r\n\r\n      {/* Location */}\r\n      <div className=\"form-group\">\r\n        <label>Location:</label>\r\n        <select\r\n          value={selectedLocation}\r\n          onChange={(e) => setSelectedLocation(e.target.value)}\r\n        >\r\n          <option value=\"\">Select Location</option>\r\n          {safeLocations.map((loc) => (\r\n            <option key={loc.id} value={loc.id}>\r\n              {loc.name}\r\n            </option>\r\n          ))}\r\n        </select>\r\n      </div>\r\n\r\n      {/* Staff */}\r\n      <div className=\"form-group\">\r\n        <label>Staff:</label>\r\n        <select\r\n          value={selectedTeamMember}\r\n          onChange={(e) => setSelectedTeamMember(e.target.value)}\r\n        >\r\n          <option value=\"\">Select Staff</option>\r\n          {safeTeamMembers.map((tm) => (\r\n            <option key={tm.id} value={tm.id}>\r\n              {tm.team_member_details?.given_name || tm.id}\r\n            </option>\r\n          ))}\r\n        </select>\r\n      </div>\r\n\r\n      {/* Service */}\r\n      <div className=\"form-group\">\r\n        <label>Service:</label>\r\n        <select\r\n          value={selectedService}\r\n          onChange={(e) => setSelectedService(e.target.value)}\r\n        >\r\n          <option value=\"\">Select Service</option>\r\n          {safeServices.map((s) => (\r\n            <option key={s.id} value={s.id}>\r\n              {s.item_data?.name || s.id}\r\n            </option>\r\n          ))}\r\n        </select>\r\n      </div>\r\n\r\n      {/* Actions */}\r\n      <div className=\"form-actions\">\r\n        <button\r\n          className=\"primary-btn\"\r\n          onClick={onSubmit}\r\n          disabled={\r\n            !fullNameId ||\r\n            !emailId ||\r\n            !phoneNumberId ||\r\n            !selectedLocation ||\r\n            !selectedTeamMember ||\r\n            !selectedService\r\n          }\r\n        >\r\n          Create Booking\r\n        </button>\r\n\r\n        <button className=\"secondary-btn\" onClick={onCancel}>\r\n          Cancel\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}