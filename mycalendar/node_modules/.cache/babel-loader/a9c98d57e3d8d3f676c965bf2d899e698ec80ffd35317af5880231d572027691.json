{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\dah03\\\\nail-site\\\\mycalendar\\\\src\\\\components\\\\App\\\\Register\\\\Register.jsx\",\n  _s = $RefreshSig$();\nimport { useState } from \"react\";\nimport { registerUser, loginUser } from \"../../../utils/api\";\nimport { useNavigate, Link } from \"react-router-dom\";\nimport { useAuth } from \"../../../context/AuthContext\";\nimport \"../auth.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Register() {\n  _s();\n  const {\n    login\n  } = useAuth();\n  const navigate = useNavigate();\n  const [form, setForm] = useState({\n    fullName: \"\",\n    email: \"\",\n    password: \"\"\n  });\n  const [loading, setLoading] = useState(false);\n  const [err, setErr] = useState(\"\");\n  const onChange = e => setForm({\n    ...form,\n    [e.target.name]: e.target.value\n  });\n  const onSubmit = async e => {\n    e.preventDefault();\n    setErr(\"\");\n    setLoading(true);\n    const reg = await registerUser(form);\n    if (!reg || reg.error) {\n      setLoading(false);\n      return setErr((reg === null || reg === void 0 ? void 0 : reg.error) || \"Unable to register. Please try again.\");\n    }\n\n    // auto-login after register (optional)\n    const data = await loginUser({\n      email: form.email,\n      password: form.password\n    });\n    setLoading(false);\n    if (!data || data.error) {\n      return setErr((data === null || data === void 0 ? void 0 : data.error) || \"Registered, but login failed. Please sign in.\");\n    }\n    login({\n      token: data.token,\n      user: data.user\n    });\n    navigate(\"/calendar\");\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"auth-card\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Create account\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: onSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Full name\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"fullName\",\n        value: form.fullName,\n        onChange: onChange,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Email\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"email\",\n        type: \"email\",\n        value: form.email,\n        onChange: onChange,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"password\",\n        type: \"password\",\n        value: form.password,\n        onChange: onChange,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this), err && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"auth-error\",\n        children: err\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        disabled: loading,\n        children: loading ? \"Creating...\" : \"Create account\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"auth-alt\",\n      children: [\"Already have an account? \", /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/login\",\n        children: \"Sign in\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 34\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 5\n  }, this);\n}\n_s(Register, \"m5882mTYtE53UU2NDeV0o+Azrtg=\", false, function () {\n  return [useAuth, useNavigate];\n});\n_c = Register;\nvar _c;\n$RefreshReg$(_c, \"Register\");","map":{"version":3,"names":["useState","registerUser","loginUser","useNavigate","Link","useAuth","jsxDEV","_jsxDEV","Register","_s","login","navigate","form","setForm","fullName","email","password","loading","setLoading","err","setErr","onChange","e","target","name","value","onSubmit","preventDefault","reg","error","data","token","user","className","children","fileName","_jsxFileName","lineNumber","columnNumber","required","type","disabled","to","_c","$RefreshReg$"],"sources":["C:/Users/dah03/nail-site/mycalendar/src/components/App/Register/Register.jsx"],"sourcesContent":["import { useState } from \"react\";\r\nimport { registerUser, loginUser } from \"../../../utils/api\";\r\nimport { useNavigate, Link } from \"react-router-dom\";\r\nimport { useAuth } from \"../../../context/AuthContext\";\r\nimport \"../auth.css\";\r\n\r\nexport default function Register() {\r\n  const { login } = useAuth();\r\n  const navigate = useNavigate();\r\n  const [form, setForm] = useState({ fullName: \"\", email: \"\", password: \"\" });\r\n  const [loading, setLoading] = useState(false);\r\n  const [err, setErr] = useState(\"\");\r\n\r\n  const onChange = (e) => setForm({ ...form, [e.target.name]: e.target.value });\r\n\r\n  const onSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setErr(\"\");\r\n    setLoading(true);\r\n\r\n    const reg = await registerUser(form);\r\n    if (!reg || reg.error) {\r\n      setLoading(false);\r\n      return setErr(reg?.error || \"Unable to register. Please try again.\");\r\n    }\r\n\r\n    // auto-login after register (optional)\r\n    const data = await loginUser({ email: form.email, password: form.password });\r\n    setLoading(false);\r\n\r\n    if (!data || data.error) {\r\n      return setErr(data?.error || \"Registered, but login failed. Please sign in.\");\r\n    }\r\n\r\n    login({ token: data.token, user: data.user });\r\n    navigate(\"/calendar\");\r\n  };\r\n\r\n  return (\r\n    <div className=\"auth-card\">\r\n      <h2>Create account</h2>\r\n      <form onSubmit={onSubmit}>\r\n        <label>Full name</label>\r\n        <input name=\"fullName\" value={form.fullName} onChange={onChange} required />\r\n\r\n        <label>Email</label>\r\n        <input name=\"email\" type=\"email\" value={form.email} onChange={onChange} required />\r\n\r\n        <label>Password</label>\r\n        <input name=\"password\" type=\"password\" value={form.password} onChange={onChange} required />\r\n\r\n        {err && <div className=\"auth-error\">{err}</div>}\r\n\r\n        <button type=\"submit\" disabled={loading}>\r\n          {loading ? \"Creating...\" : \"Create account\"}\r\n        </button>\r\n      </form>\r\n\r\n      <p className=\"auth-alt\">\r\n        Already have an account? <Link to=\"/login\">Sign in</Link>\r\n      </p>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}